<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Color Picker Example</title>
    <link rel="stylesheet" href="color-picker.css">
  </head>
  <body>

    <div id="color-picker-container">
      <span class="Button MenuToggle">Theme Color</span>

      <div class="Menu ColorPicker u-hidden">
        <div class="dropdown-caret">
          <span class="caret-outer"></span>
          <span class="caret-inner"></span>
        </div>
        <div class="ColorPicker-colorList">
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#fa743e" style="background-color: #fa743e">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#ffcc4d" style="background-color: #ffcc4d">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#94d487" style="background-color: #94d487">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#4a913c" style="background-color: #4a913c">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#89c9fa" style="background-color: #89c9fa">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#3b94d9" style="background-color: #3b94d9">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#abb8c2" style="background-color: #abb8c2">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#dd2e44" style="background-color: #dd2e44">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
          <div class="ColorPicker-transparent">
            <div class="ColorPicker-item ColorPicker-color" data-color="#f5abb5" style="background-color: #f5abb5">
              <div class="Icon Icon--smallest"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </body>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>

    (function($) {

      function showDropdown(e) {
        $colorPicker.removeClass('u-hidden');
        dropdownOpen = true;
      }

      function closeDropdown(e) {
        var target = e.target;
        var $target = $(target);

        if (!dropdownOpen) {
          return;
        }

        if ($.contains($toggleButton[0], target) || $target.is($toggleButton)) {
          return;
        }

        if ($.contains($colorPicker[0], target) || $target.is($colorPicker)) {
          return;
        }

        $colorPicker.addClass('u-hidden');
        dropdownOpen = false;
      }

      function changeColor(e, color) {
        $toggleButton.css('background-color', color);
      }

      function selectColor(e) {
        var $color = $(this);

        $colorPicker.find('.Icon--check').removeClass('Icon--check');
        $color.find('.Icon').addClass('Icon--check');

        $(document).trigger('uiUpdateColor', [ $color.data('color') ]);
      }

      var $toggleButton = $('.MenuToggle');
      var $colorPicker = $('.ColorPicker');
      var dropdownOpen = false;

      $.fn.colorPicker = function () {
        this.on('click', '.MenuToggle', showDropdown);
        this.on('click', '.ColorPicker-color', selectColor);

        $(document).on('mousedown', closeDropdown);
        $(document).on('uiUpdateColor', changeColor);
      };

    }(jQuery));

    $('#color-picker-container').colorPicker();

   </script>

<html>
